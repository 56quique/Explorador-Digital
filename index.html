<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Explorador Digital</title>

<style>
html, body {
  margin: 0 !important;
  padding: 0 !important;
  overflow: hidden !important;
  background: transparent !important;
}

#gameWrapper {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, #1c2a4a, #020614);
  z-index: 99999;
  font-family: Arial, sans-serif;
  color: white;
  text-align: center;
}

/* HUD */
#hud {
  position: fixed;
  top: 0;
  width: 100%;
  background: rgba(0,0,0,0.6);
  padding: 10px;
  font-weight: bold;
}

/* Pantallas */
.screen {
  display: none;
  padding-top: 80px;
}
.screen.active {
  display: block;
}

/* Botones */
.block {
  background: rgba(255,255,255,0.1);
  border: 2px solid #00ffff;
  border-radius: 20px;
  padding: 18px;
  margin: 15px auto;
  max-width: 300px;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(0,255,255,0.4);
  transition: transform 0.1s, background 0.2s;
  user-select: none;
}
.block:active {
  transform: scale(1.05);
}

.big {
  background: rgba(255,204,0,0.3);
  border-color: gold;
}

.completed {
  background: rgba(0,255,0,0.3);
  border-color: #00ff88;
}

.title {
  font-size: 26px;
  margin-bottom: 20px;
  text-shadow: 0 0 10px cyan;
}

#message {
  min-height: 40px;
  color: #aef;
  margin-top: 20px;
}
</style>
</head>

<body>
<div id="gameWrapper">

<div id="hud">
🧭 Progreso: <span id="score">0</span> / 3
&nbsp; | &nbsp;
🔊 <span id="soundToggle">ACTIVAR SONIDO</span>
</div>

<!-- AUDIO LOCAL SIMULADO -->
<audio id="clickSound"></audio>
<audio id="winSound"></audio>

<!-- START -->
<div id="start" class="screen active">
  <div class="title">Explorador Digital</div>
  <div class="block big" id="startBtn">🚀 START</div>
</div>

<!-- MAPA -->
<div id="mapa" class="screen">
  <div class="title">🗺️ Mapa Digital</div>

  <div class="block" id="videosBlock">🎥 Torre Digital</div>
  <div class="block" id="chatBlock">💬 Plaza del Chat</div>
  <div class="block" id="juegosBlock">🎮 Zona de Juegos</div>

  <div id="message"></div>
</div>

<!-- VIDEOS -->
<div id="videos" class="screen">
  <div class="title">🎥 Torre Digital</div>
  <div class="block good" data-world="videos">🧭 Elijo con cuidado</div>
  <div class="block bad" data-world="videos">✨ Miro todo</div>
</div>

<!-- CHAT -->
<div id="chat" class="screen">
  <div class="title">💬 Plaza del Chat</div>
  <div class="block good" data-world="chat">🛑 Guardo silencio</div>
  <div class="block bad" data-world="chat">📤 Reenvío</div>
</div>

<!-- JUEGOS -->
<div id="juegos" class="screen">
  <div class="title">🎮 Zona de Juegos</div>
  <div class="block good" data-world="juegos">🧠 Cuido mi mente</div>
  <div class="block bad" data-world="juegos">⏳ Sigo sin parar</div>
</div>

<!-- FINAL -->
<div id="final" class="screen">
  <div class="title">🪞 Tu Experiencia</div>
  <div id="summary" class="block"></div>
  <div class="block big" id="restartBtn">🔄 Volver a comenzar</div>
</div>

<script>
/* ESTADO */
let score = 0;
let completed = {
  videos: false,
  chat: false,
  juegos: false
};
let soundEnabled = false;

/* ELEMENTOS */
const screens = document.querySelectorAll('.screen');
const scoreEl = document.getElementById('score');
const messageEl = document.getElementById('message');
const soundToggle = document.getElementById('soundToggle');

/* AUDIO */
const clickSound = document.getElementById('clickSound');
const winSound = document.getElementById('winSound');

/* Sonidos embebidos simples (base64) */
clickSound.src = "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=";
winSound.src   = "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=";

/* UTIL */
function show(screenId) {
  screens.forEach(s => s.classList.remove('active'));
  document.getElementById(screenId).classList.add('active');
  messageEl.textContent = "";
}

function playClick() {
  if (!soundEnabled) return;
  try {
    clickSound.currentTime = 0;
    clickSound.play();
  } catch(e) {}
}

function playWin() {
  if (!soundEnabled) return;
  try {
    winSound.currentTime = 0;
    winSound.play();
  } catch(e) {}
}

/* SONIDO */
soundToggle.addEventListener('click', () => {
  soundEnabled = !soundEnabled;
  soundToggle.textContent = soundEnabled ? "SONIDO ON" : "ACTIVAR SONIDO";
});

/* START */
document.getElementById('startBtn').addEventListener('click', () => {
  playClick();
  show('mapa');
});

/* MAPA */
document.getElementById('videosBlock').addEventListener('click', () => {
  playClick(); show('videos');
});
document.getElementById('chatBlock').addEventListener('click', () => {
  playClick(); show('chat');
});
document.getElementById('juegosBlock').addEventListener('click', () => {
  playClick(); show('juegos');
});

/* OPCIONES */
document.querySelectorAll('.good').forEach(btn => {
  btn.addEventListener('click', e => {
    playWin();
    const world = e.target.dataset.world;

    if (!completed[world]) {
      completed[world] = true;
      score++;
      scoreEl.textContent = score;
      document.getElementById(world + "Block").classList.add("completed");
    }

    messageEl.textContent = "✨ Elegiste con sabiduría.";

    setTimeout(() => {
      score >= 3 ? showFinal() : show('mapa');
    }, 1000);
  });
});

document.querySelectorAll('.bad').forEach(btn => {
  btn.addEventListener('click', () => {
    playClick();
    messageEl.textContent = "💭 No todo lo que brilla ayuda a avanzar.";
  });
});

/* FINAL */
function showFinal() {
  let text = "Recorriste la Ciudad Digital.\n\n";
  if (completed.videos) text += "🎥 Torre Digital: Atención\n";
  if (completed.chat) text += "💬 Plaza del Chat: Respeto\n";
  if (completed.juegos) text += "🎮 Zona de Juegos: Cuidado\n";
  text += "\nNo sos lo que tocás.\nSos lo que elegís.";

  document.getElementById('summary').textContent = text;
  show('final');
}

document.getElementById('restartBtn').addEventListener('click', () => {
  playClick();
  score = 0;
  completed = { videos:false, chat:false, juegos:false };
  scoreEl.textContent = "0";

  document.querySelectorAll('.block').forEach(b => b.classList.remove('completed'));
  show('start');
});
</script>

</div>
</body>
</html>

