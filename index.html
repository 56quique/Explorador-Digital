<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>ROFEBLOX - Exploraci√≥n Digital</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: 'Trebuchet MS', sans-serif;
  background: linear-gradient(#0a1a2a, #000);
  color: white;
  text-align: center;
}

.screen {
  display: none;
  min-height: 100vh;
  padding: 30px;
}

.active {
  display: block;
}

h1 {
  font-size: 3em;
  margin-bottom: 10px;
}

button {
  background: #00b3ff;
  border: none;
  padding: 15px 30px;
  font-size: 1.2em;
  border-radius: 10px;
  color: black;
  cursor: pointer;
  margin: 10px;
  transition: 0.2s;
}

button:hover {
  background: #00ffcc;
  transform: scale(1.05);
}

.option {
  display: block;
  background: #112f44;
  border: 2px solid #00b3ff;
  padding: 15px;
  margin: 10px auto;
  max-width: 400px;
  border-radius: 10px;
  cursor: pointer;
}

.option:hover {
  background: #00b3ff;
  color: black;
}

.option.selected {
  background: #00ff99;
  color: black;
  border-color: #00ff99;
}

.negative.selected {
  background: #ff4444;
  border-color: #ff4444;
  color: white;
}

.box {
  background: rgba(0,0,0,0.7);
  padding: 20px;
  border-radius: 15px;
  max-width: 500px;
  margin: auto;
}
</style>
</head>

<body>

<!-- AUDIO -->
<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/audio/2022/10/16/audio_9c41d3e9c4.mp3" type="audio/mpeg">
</audio>

<!-- PANTALLA 1 -->
<div id="startScreen" class="screen active">
  <div class="box">
    <h1>ROFEBLOX</h1>
    <p>Exploraci√≥n y Decisi√≥n en el Mundo Digital</p>
    <p>üéß Activ√° sonido y comenz√° la aventura</p>
    <button onclick="startGame()">START</button>
  </div>
</div>

<!-- PANTALLA 2 -->
<div id="gameScreen" class="screen">
  <div class="box">
    <h2>üè∞ Torre Digital</h2>
    <p>Eleg√≠ c√≥mo actuar en este mundo virtual</p>

    <div class="option" onclick="choose(this, 10)">
      ‚úî Ayudo a un amigo a tomar una buena decisi√≥n online
    </div>

    <div class="option negative" onclick="choose(this, -10)">
      ‚ùå Comparto contenido sin pensar en las consecuencias
    </div>

    <div class="option" onclick="choose(this, 10)">
      ‚úî Pido ayuda a un adulto cuando algo me incomoda
    </div>

    <div class="option negative" onclick="choose(this, -10)">
      ‚ùå Ignoro advertencias y sigo explorando zonas peligrosas
    </div>

    <p>Puntaje: <span id="score">0</span></p>

    <button onclick="finishGame()">Finalizar Misi√≥n</button>
  </div>
</div>

<!-- PANTALLA 3 -->
<div id="endScreen" class="screen">
  <div class="box">
    <h2>üåü Resumen de tu aventura</h2>
    <p id="finalText"></p>
    <p>Puntaje final: <span id="finalScore"></span></p>
    <button onclick="restart()">Volver a Jugar</button>
  </div>
</div>

<script>
let score = 0;
let audioStarted = false;

function startGame() {
  const audio = document.getElementById("bgm");

  if (!audioStarted) {
    audio.play().then(() => {
      audioStarted = true;
      showGame();
    }).catch(() => {
      alert("Toc√° nuevamente START para habilitar sonido üéß");
    });
  } else {
    showGame();
  }
}

function showGame() {
  document.getElementById("startScreen").classList.remove("active");
  document.getElementById("gameScreen").classList.add("active");
}

function choose(element, points) {
  if (element.classList.contains("selected")) return;

  element.classList.add("selected");
  score += points;
  document.getElementById("score").innerText = score;
}

function finishGame() {
  document.getElementById("gameScreen").classList.remove("active");
  document.getElementById("endScreen").classList.add("active");

  document.getElementById("finalScore").innerText = score;

  let text = "Exploraste el mundo digital con sabidur√≠a.";
  if (score < 0) {
    text = "Tus decisiones te llevaron por caminos peligrosos. ¬°Siempre pod√©s volver a elegir bien!";
  }

  document.getElementById("finalText").innerText = text;
}

function restart() {
  score = 0;
  document.getElementById("score").innerText = "0";

  document.querySelectorAll(".option").forEach(opt => {
    opt.classList.remove("selected");
  });

  document.getElementById("endScreen").classList.remove("active");
  document.getElementById("startScreen").classList.add("active");
}
</script>

</body>
  </html>
