<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Exploradores Digitales - Mapa</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(#07141f, #000);
  color: white;
  text-align: center;
}

.screen {
  display: none;
  min-height: 100vh;
  padding: 20px;
}

.active {
  display: block;
}

h1, h2 {
  margin-bottom: 10px;
}

.box {
  background: rgba(0,0,0,0.7);
  padding: 20px;
  border-radius: 15px;
  max-width: 500px;
  margin: auto;
}

button {
  background: #00b3ff;
  border: none;
  padding: 12px 25px;
  font-size: 1em;
  border-radius: 10px;
  cursor: pointer;
  margin: 10px;
}

button:hover {
  background: #00ffcc;
}

.zone {
  background: #102c3d;
  border: 2px solid #00b3ff;
  padding: 15px;
  margin: 15px auto;
  max-width: 350px;
  border-radius: 10px;
  cursor: pointer;
}

.zone:hover {
  background: #00b3ff;
  color: black;
}

.zone.completed {
  background: #00ff99;
  border-color: #00ff99;
  color: black;
}

.option {
  background: #102c3d;
  border: 2px solid #00b3ff;
  padding: 12px;
  margin: 10px auto;
  max-width: 400px;
  border-radius: 10px;
  cursor: pointer;
}

.option:hover {
  background: #00b3ff;
  color: black;
}

.option.selected {
  background: #00ff99;
  color: black;
  border-color: #00ff99;
}

.option.negative.selected {
  background: #ff4444;
  color: white;
  border-color: #ff4444;
}
</style>
</head>

<body>

<!-- PANTALLA 1 -->
<div id="startScreen" class="screen active">
  <div class="box">
    <h1>Exploradores Digitales</h1>
    <p>Recorr√© el mapa y tom√° decisiones sabias en cada zona</p>
    <button onclick="goToMap()">Ver Mapa</button>
  </div>
</div>

<!-- PANTALLA 2 -->
<div id="mapScreen" class="screen">
  <div class="box">
    <h2>üó∫Ô∏è Mapa Digital</h2>
    <p>Puntaje: <span id="score">0</span></p>

    <div class="zone" onclick="openZone(1)" id="zone1">
      üèïÔ∏è Zona 1 ‚Äî Bosque de Mensajes
    </div>

    <div class="zone" onclick="openZone(2)" id="zone2">
      üè∞ Zona 2 ‚Äî Torre Digital
    </div>

    <div class="zone" onclick="openZone(3)" id="zone3">
      üåÜ Zona 3 ‚Äî Ciudad Virtual
    </div>

    <button onclick="finishGame()">Finalizar Exploraci√≥n</button>
  </div>
</div>

<!-- PANTALLA 3 -->
<div id="zoneScreen" class="screen">
  <div class="box">
    <h2 id="zoneTitle"></h2>
    <p id="zoneText"></p>

    <div class="option" onclick="choose(this, 10)">
      ‚úî Act√∫o con respeto y busco ayuda si es necesario
    </div>

    <div class="option negative" onclick="choose(this, -10)">
      ‚ùå Ignoro los riesgos y sigo sin pensar
    </div>

    <button onclick="backToMap()">Volver al Mapa</button>
  </div>
</div>

<!-- PANTALLA 4 -->
<div id="endScreen" class="screen">
  <div class="box">
    <h2>üåü Resultado Final</h2>
    <p id="finalText"></p>
    <p>Puntaje total: <span id="finalScore"></span></p>
    <button onclick="restart()">Comenzar de Nuevo</button>
  </div>
</div>

<script>
let score = 0;
let currentZone = 0;
let completedZones = {};

const zoneData = {
  1: {
    title: "üèïÔ∏è Bosque de Mensajes",
    text: "Recib√≠s un mensaje extra√±o de alguien que no conoc√©s. ¬øQu√© hac√©s?"
  },
  2: {
    title: "üè∞ Torre Digital",
    text: "Un amigo quiere compartir algo que puede lastimar a otros. ¬øC√≥mo reaccion√°s?"
  },
  3: {
    title: "üåÜ Ciudad Virtual",
    text: "Ves contenido que te incomoda. ¬øCu√°l es tu decisi√≥n?"
  }
};

function goToMap() {
  document.getElementById("startScreen").classList.remove("active");
  document.getElementById("mapScreen").classList.add("active");
}

function openZone(zone) {
  currentZone = zone;

  document.getElementById("zoneTitle").innerText = zoneData[zone].title;
  document.getElementById("zoneText").innerText = zoneData[zone].text;

  document.querySelectorAll(".option").forEach(opt => {
    opt.classList.remove("selected");
  });

  document.getElementById("mapScreen").classList.remove("active");
  document.getElementById("zoneScreen").classList.add("active");
}

function choose(element, points) {
  if (element.classList.contains("selected")) return;

  element.classList.add("selected");
  score += points;
  document.getElementById("score").innerText = score;

  completedZones[currentZone] = true;
  document.getElementById("zone" + currentZone).classList.add("completed");
}

function backToMap() {
  document.getElementById("zoneScreen").classList.remove("active");
  document.getElementById("mapScreen").classList.add("active");
}

function finishGame() {
  document.getElementById("mapScreen").classList.remove("active");
  document.getElementById("endScreen").classList.add("active");

  document.getElementById("finalScore").innerText = score;

  let text = "Exploraste el mundo digital con sabidur√≠a y valent√≠a.";
  if (score < 10) {
    text = "Tu camino tuvo riesgos. Record√°: siempre pod√©s elegir protegerte y proteger a otros.";
  }

  document.getElementById("finalText").innerText = text;
}

function restart() {
  score = 0;
  completedZones = {};
  document.getElementById("score").innerText = "0";

  document.querySelectorAll(".zone").forEach(zone => {
    zone.classList.remove("completed");
  });

  document.getElementById("endScreen").classList.remove("active");
  document.getElementById("startScreen").classList.add("active");
}
</script>

</body>
  </html>
